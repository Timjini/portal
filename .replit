modules = [
  "nodejs-20",
  "ruby-3.2",
  "mysql",
  "gcc",
  "make",
  "pkg-config",
  "zlib",
  "zstd",
  "openssl",
]
run = "bundle exec rails assets:precompile && bundle exec rails server -p 5000 -b 0.0.0.0"

[nix]
channel = "stable-24_05"
packages = [
  "libyaml",
  "mysql.client",
  "mysql",
  "mysql.dev",
  "mariadb.dev",
  "postgresql_16",
  "nodejs-20_x",
  "zlib",
  "gmp",
  "yarn",
  "openssh",
  "gcc",
  "gnumake",
  "pkgconfig",
  "mariadb.client",
  "mariadb",
]

[[ports]]
localPort = 5000
externalPort = 80
